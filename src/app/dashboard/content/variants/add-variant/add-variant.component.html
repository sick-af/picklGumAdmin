<app-reusable-input-form
  title="{{
    this.variantID == null ? 'Add Variant' : 'Update Variant #' + variantID
  }}"
  backButton="true"
>
  <ng-container class="body">
    <form autocomplete="off" [formGroup]="variantForm">
      <h6 class="heading-small text-muted mb-4">Variant information</h6>
      <div class="pl-lg-4">
        <div class="row">
          <div class="col-lg-12">
            <div class="form-group focused">
              <label class="form-control-label" for="input-username"
                >Name</label
              >
              <input
                type="text"
                id="input-username"
                class="form-control form-control-alternative"
                placeholder="Name"
                formControlName="name"
                value=""
              />
            </div>
          </div>

          <div class="col-lg-6">
            <div class="form-group focused">
              <label class="form-control-label">Base Rate</label>
              <input
                type="number"
                placeholder="Base Rate"
                formControlName="base_rate"
                class="form-control form-control-alternative"
              />
            </div>
          </div>

          <div class="col-lg-6">
            <div class="form-group focused">
              <label class="form-control-label">SKU</label>
              <input
                type="text"
                placeholder="H-B-1"
                formControlName="sku"
                class="form-control form-control-alternative"
              />
            </div>
          </div>

          <div class="col-lg-6">
            <div class="form-group focused">
              <label class="form-control-label">Category</label>
              <ngx-select-dropdown
                [(ngModel)]="selectedCategory"
                [config]="config"
                (change)="categorySelected($event)"
                [options]="categories"
                [ngModelOptions]="{ standalone: true }"
              ></ngx-select-dropdown>
            </div>
          </div>

          <div class="col-lg-6">
            <label class="form-control-label">images</label>
            <input
              type="file"
              #fileInput
              name="images"
              class="form-control form-control-alternative"
              (change)="handleUpload($event)"
            />
          </div>

          <div class="col-lg-6" *ngIf="first_attribute">
            <div class="form-group focused">
              <label class="form-control-label">{{first_attribute}}</label>
              <input
                type="text"
                placeholder="value"
                formControlName="first_attribute_value"
                class="form-control form-control-alternative"
              />
            </div>
          </div>

          <div class="col-lg-6" *ngIf="second_attribute">
            <div class="form-group focused">
              <label class="form-control-label">{{second_attribute}}</label>
              <input
                type="text"
                placeholder="value"
                formControlName="second_attribute_value"
                class="form-control form-control-alternative"
              />
            </div>
          </div>

          <div class="col-lg-6" *ngIf="third_attribute">
            <div class="form-group focused">
              <label class="form-control-label">{{third_attribute}}</label>
              <input
                type="text"
                placeholder="value"
                formControlName="third_attribute_value"
                class="form-control form-control-alternative"
              />
            </div>
          </div>

        </div>
        <div class="row images">
          <div
            *ngFor="let image of images; let idx = index"
            class="col-md-2 image"
          >
            <img [src]="image.url" alt="" />
            <div (click)="deleteImage(idx)" class="icon">
              <i class="far fa-window-close"></i>
            </div>
          </div>
        </div>
      </div>

      <app-save-button
        (onSubmit)="submit()"
        [isLoading]="isLoading"
      ></app-save-button>
    </form>
  </ng-container>
</app-reusable-input-form>
